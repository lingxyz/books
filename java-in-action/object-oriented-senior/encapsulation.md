# 5.4.1 封装的作用和含义

   我要看电视，只需要按一下开关和换台就可以了。有必要了解电视机内部的结构吗?有必要碰碰显像管吗?制造厂家为了方便我们使用电视，把复杂的内部细节全部封装起来，只给我们暴露简单的接口，比如：电源开关。具体内部是怎么实现的，我们不需要操心。

![image.png](https://www.sxt.cn/360shop/Public/admin/UEditor/20171028/1509199502558961.png)

   ==需要让用户知道的才暴露出来，不需要让用户知道的全部隐藏起来，这就是封装==。说的专业一点，==封装就是把对象的属性和操作结合为一个独立的整体，并尽可能隐藏对象的内部实现细节==。

   我们程序设计要追求“==高内聚，低耦合==”。 高内聚就是==类的内部数据操作细节自己完成==，不允许外部干涉;低耦合是==仅暴露少量的方法给外部使用==，尽量方便外部调用。

**编程中封装的具体优点：**

1. 提高代码的安全性。

2. 提高代码的复用性。

3. “高内聚”：封装细节，便于修改内部代码，提高可维护性。

4. “低耦合”：简化外部调用，便于调用者使用，便于扩展和协作。

**【示例5-9】没有封装的代码会出现一些问题**

```java
class Person {
	String name;
	int age;
	@Override
	public String toString() {
		return "Person [name=" + name + ", age=" + age + "]";
	}
}
public class Test {
	public static void main(String[] args) {
		Person p = new Person();
		p.name = "小红";
		p.age = -45;//年龄可以通过这种方式随意赋值，没有任何限制
		System.out.println(p);
	}
}
```

   我们都知道，年龄不可能是负数，也不可能超过130岁，但是如果没有使用封装的话，便可以给年龄赋值成任意的整数，这显然不符合我们的正常逻辑思维。执行结果如图5-7所示:

![图5-7 示例5-9运行效果图.png](https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495250202677298.png)

> 图5-7 示例5-9运行效果图

   再比如说，如果哪天我们需要将Person类中的age属性修改为String类型的，你会怎么办?你只有一处使用了这个类的话那还比较幸运，但如果你有几十处甚至上百处都用到了，那你岂不是要改到崩溃。而封装恰恰能解决这样的问题。如果使用封装，我们只需要稍微修改下Person类的setAge()方法即可，而无需修改使用了该类的客户代码。